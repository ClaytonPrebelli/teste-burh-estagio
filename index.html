<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Clayton Prebelli">
      <meta name="keywords" content="sites, web, desenvolvimento, dev, full-stack, html, css, javascript, pesquisa filmes, filmes, sinopse">
      <meta http-equiv="cache-control" content="no-cache" />
      <meta name="copyright" content="© 2021 Clayton Prebelli" />
      <meta name="robots" content="index,follow">
      <link  rel = "apple-touch-icon"  Tamanhos = "57x57"  href = "fav/apple-icon-57x57.png" > 
<link  rel = "apple-touch-icon"  tamanhos = "60x60"  href = "fav/ apple -icon-60x60.png " > 
<link  rel = " apple-touch-icon "  tamanhos = " 72x72 "  href = " fav/apple-icon-72x72.png " > 
<link  rel = " apple-touch-icon "  tamanhos = "76x76"  href = "/apple-icon-76x76.png" > 
<link  rel = "apple-touch-icon "  tamanhos = " 114x114 "  href = " fav/apple-icon-114x114.png "> 
<link  rel = "apple-touch-icon"  tamanhos = "120x120"  href = "fav/apple-icon-120x120.png" > 
<link  rel = "apple-touch-icon"  tamanhos = "144x144"  href = "fav/ apple-icon-144x144.png " > 
<link  rel = " apple-touch-icon "  tamanhos = " 152x152 "  href = " fav/apple-icon-152x152.png " > 
<link  rel = " apple-touch-icon "  tamanhos = "180x180"  href = "fav/apple-icon-180x180.png" > 
<link  rel = "ícone"  type = "imagem / png"  tamanhos = "192x192"  href = "/android-icon-192x192.png" > 
<link  rel = "icon"  type = "image / png  " size = "32x32"  href = "fav/favicon-32x32.png" > 
<link  rel = "icon"  type = "image / png"  Tamanhos = "96x96"  href = "fav/favicon-96x96.png" > 
<link  rel = "icon"  type = "image / png"  Tamanhos = "16x16"  href = "fav/ favicon-16x16. png " > 
<link  rel = " manifesto " href = "fav/manifest.json" > 
<meta  name ="msapplication-TileColor"  content = "#ffffff" > 
<meta  name = "msapplication-TileImage"  content = "fav/ms-icon-144x144.png" > 
<meta  name = "theme-color"  content = "#ffffff" >
    <title>World Cinematic Search</title>
 <!--   <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>-->
 <link rel="preconnect" href="https://fonts.gstatic.com">
 <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <link rel="stylesheet" href="/css/style.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">
</head>
<body>
    <header class="head" id="header"><img src="images/logo.png" alt=""><h1>World Cinematic Search</h1></header>
    <main class="main" id="main">
        <section id="sec_principal" class="sec_principal">
            <input type="text" name="pesquisa" id="pesquisa" class="pesquisa" placeholder="Insira o Título a ser pesquisado">
            <button id="enviar" class="enviar" onclick="pesquisar()">Pesquisar</button>
        </section>
        <div id="fichas">
         
        </div>      
        <div class="ficha_completa" id="ficha_completa">
    </div>
    </main>
        
    
      <script type="text/javascript" src="js/script1.js"></script>
      
      <script>
        function ficha_completa(i){
                /*Area de animações*/
                
                let some_ficha = document.getElementById("fichas");
               some_ficha.style.animation = "";
               setTimeout(() => some_ficha.style.animation = "some_fichas 1s ease 1s forwards",2);
               let aparece_resumo = document.getElementById("ficha_completa");
               aparece_resumo.style.animation = "";
               setTimeout(() => aparece_resumo.style.animation = "aparece_resumo 1s ease 1s forwards",2);
               document.getElementById('fichas').focus;
               

            var titulo = document.getElementById("pesquisa").value; 
            var url = "http://www.omdbapi.com/";
    var chave = "49f3de13";
    var requisito = `${url}?s=${titulo}&apikey=${chave}`;  
    console.log(requisito);
    let capa_nao = 'images/no_poster.png'
            $.ajax({
            url : requisito,
            type : "get",
            datatype : "json",
            
                success : function(data){                 
                let vamla = data.Search; 
                let id = vamla[i].imdbID;
                var requisitoid = `${url}?i=${id}&apikey=${chave}`;
                                $.ajax({
                            url : requisitoid,
                            type : "get",
                            datatype : "json",
                            success : function(data1){
                                let vamla1 = data1; 
                document.getElementById("ficha_completa").innerHTML =`<div id="capa_grande"><img src="${ver_capa(vamla1,i)}" alt="Capa" onclick="some_geral()" class="clicavel"></div><div class="secao_completa" id="secao_completa"><div class="titulo_grande" id="titulo_grande"><h1 class="labels">Título: ${vamla1.Title}</h1></div><div class="junta_itens" id="junta_itens"><div id="itens1" class="itens"><p class="labels">Ano: ${vamla1.Year}</p><p class="labels">Classificação: ${vamla1.Rated}</p><p class="labels">Estréia: ${vamla1.Released}</p><p class="labels">Duração: ${vamla1.Runtime}</p><p class="labels">Gênero: ${vamla1.Genre}</p></div><div id="itens2" class="itens"><p class="labels">Diretor: ${vamla1.Director}</p><p class="labels">Elenco: ${vamla1.Actors}</p><p class="labels">Idioma Original: ${vamla1.Language}</p><p class="labels">País: ${vamla1.Country}</p><p class="labels">Prêmios: ${vamla1.Awards}</p></div><div id="descricao" class="descricao"><h3 class="labels">Sinopse</h3><p class="labels">${vamla1.Plot}</p></div></div></div>`;
    function ver_capa(){                    
                if(vamla1.Poster == "N/A"){                    
                    return capa_nao}else{
                     return vamla1.Poster}
                    };
        
                },
                error : function(error){
                    alert(error);
                }});
            },
            error : function(error){
                    alert(error);
                }
       });
       };
       function some_geral(){
        let aparece_ficha = document.getElementById("fichas");
               aparece_ficha.style.animation = "";
               setTimeout(() => aparece_ficha.style.animation = "aparecer_ficha 1s ease 1s forwards",2);
               let some_resumo = document.getElementById("ficha_completa");
               some_resumo.style.animation = "";
               setTimeout(() => some_resumo.style.animation = "some_resumo 1s ease 1s forwards",2);
       }
</script>
</body>
</html>

